document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("theme"),t=document.querySelectorAll(".sect"),l=document.querySelector("header"),s=document.querySelector(".navbar"),a=s.querySelectorAll("a"),n=document.getElementById("burger"),i=document.getElementById("progress").firstElementChild,r=document.getElementsByName("Name"),o=document.getElementsByName("Email"),d=document.getElementById("message");document.querySelector('button[type="submit"]');let c=document.querySelector(".form"),y=document.querySelector(".home_profile"),m=localStorage.getItem("theme");"light"===m?(document.body.classList.add("light_mode"),e.checked=!0):(document.body.classList.remove("light_mode"),e.checked=!1),e.addEventListener("change",()=>{e.checked?(document.body.classList.add("light_mode"),localStorage.setItem("theme","light"),m=localStorage.getItem("theme")):(document.body.classList.remove("light_mode"),localStorage.setItem("theme","dark"),m=localStorage.getItem("theme"))}),window.addEventListener("scroll",()=>{let e,t=window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100;i.style.width=`${t}%`});let $=l.offsetHeight;t.forEach(e=>{e.style.top=`-${$}px`}),a[0].classList.add("active"),t.forEach((e,t)=>{document.addEventListener("scroll",()=>{e.getBoundingClientRect().top<=1&&(a.forEach(e=>{e.classList.remove("active")}),a[t].classList.add("active"))})});let h=!1,p=!1,g=!1;c.addEventListener("submit",e=>{h&&p&&g||(e.preventDefault(),alert("Please fill in all fields correctly before submitting the form."))}),r[0].addEventListener("input",()=>{let e=/^[a-zA-Z]{3,12}(\s[a-zA-Z]{3,12}){0,2}$/,t=e.test(r[0].value),l=r[0].value,s=r[0].nextElementSibling;l.length<3&&""!==l?(s.textContent="Name must contain at least 3 characters.",s.style.display="block",h=!1):t?(h=!0,s.style.display="none"):""===l?(h=!1,s.style.display="none"):(s.textContent="Please enter a valid name.",s.style.display="block",h=!1)}),o[0].addEventListener("input",()=>{let e=/^[a-zA-Z0-9._%+-]{3,}@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/i,t=e.test(o[0].value),l=o[0].nextElementSibling;t?(l.style.display="none",p=!0):""===o[0].value?(l.style.display="none",p=!1):(l.textContent="Please enter a valid email address.",l.style.display="block",p=!1)}),d.addEventListener("input",()=>{let e=/^[\p{L}0-9@#%.()';:+-_!?$&*\s]{1,}$/u,t=e.test(d.value),l=d.value,s=d.nextElementSibling;t&&l.length>500?(s.textContent="Message is too long (maximum 500 characters).",s.style.display="block",g=!1):t||""===l?(g=!0,s.style.display="none"):(s.textContent="Message contains invalid characters.",s.style.display="block",g=!1)}),s.style.top=`${$}px`;let v=!1,E=n.firstElementChild,u=n.children[1],L=n.lastElementChild,_=s.firstElementChild;n.addEventListener("click",()=>{s.classList.contains("jiophone"),v?(E.style.transform="rotateZ(0deg) translateY(0px) translateX(0px)",E.style.width="80%",L.style.transform="rotateZ(0deg) translateY(0px) translateX(0px)",L.style.width="80%",u.style.opacity="1",s.classList.remove("active"),_.style.opacity="0",s.classList.remove("jiophone"),v=!1):(E.style.transform="rotateZ(45deg) translateY(9px) translateX(2px)",E.style.width="100%",L.style.transform="rotateZ(-45deg) translateY(-9px) translateX(2px)",L.style.width="100%",u.style.opacity="0",s.classList.add("active"),_.style.opacity="1",s.classList.add("jiophone"),v=!0)}),a.forEach(e=>{e.addEventListener("click",()=>{v&&(s.classList.remove("active"),_.style.opacity="0",E.style.transform="rotateZ(0deg) translateY(0px) translateX(0px)",E.style.width="80%",L.style.transform="rotateZ(0deg) translateY(0px) translateX(0px)",L.style.width="80%",u.style.opacity="1",v=!1)})}),setTimeout(()=>{y.classList.add("home_profile_anim")},1700)});